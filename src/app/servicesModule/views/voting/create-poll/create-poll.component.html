<div class="container mt-3rem mb-2rem animated fadeIn">
    <div class="row">
        <div class="col-12 col-md-8">
            <span class="fs-1rem txt-a-center line-h-1-2em color-grey">Voting</span>
            <span class="fs-1rem txt-a-center line-h-1-2em color-grey"> > </span>
            <span class="fs-1rem fw-600 txt-a-center line-h-1-2em color-blue-intermedio">Create poll</span>
        </div>

        <div class="col-12 col-md-4 d-flex justify-content-start justify-content-md-end">
            <a class="fs-09rem fw-600 txt-a-center line-h-1-2em color-blue-intermedio" [routerLink]="[routes.backToService]">
                <span>Back to Services</span>
            </a>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <hr class="mt-03rem mb-05rem">
        </div>
    </div>


    <form [formGroup]="createPollForm" (ngSubmit)="sendPoll()">
        <mdb-tabset [buttonClass]="'pills-secondary2 justify-content-center'">
            <!--Panel 1-->
            <mdb-tab heading="1.Identify the poll">
                <div class="row mt-1rem">
                    <div class="col-7 col-md-8 col-xl-7 mb-2rem">
                        <!-- TITTLE -->
                        <div class="row">
                            <div class="col-11 mx-auto">
                                <div class="md-form form-sm mt-1rem mb-0rem">
                                    <input formControlName="tittle" required mdbInputDirective mdbValidate [validateSuccess]="true" [validateError]="true" type="text"
                                        id="tittle" class="form-control form-control-sm input-border" placeholder="Enter tittle">

                                    <mdb-error *ngIf="validateInput('tittle', '').invalid && (validateInput('tittle', '').dirty || validateInput('tittle', '').touched)">
                                        <span>Input invalid</span>
                                    </mdb-error>
                                </div>
                            </div>
                        </div>
                        <!-- POLL -->
                        <div class="row ml-01rem ">
                            <div class="col-11 col-sm-12 col-md-10 col-lg-8 mx-auto d-flex justify-content-center">
                                <mdb-checkbox formControlName="poll" [inline]="true">Send to public poll index</mdb-checkbox>
                            </div>
                        </div>
                        <!-- MESSAGE -->
                        <div class="row">
                            <div class="col-11 mx-auto">
                                <div class="md-form form-sm mt-1rem mb-0rem">
                                    <textarea mdbInputDirective mdbValidate required [validateSuccess]="true" [validateError]="true" type="text" id="message"
                                        class="md-textarea form-control" mdbInput placeholder="Write your description here" formControlName="message"
                                        [maxlength]="configurationForm.message.maxLength"></textarea>
                                    <mdb-error *ngIf="validateInput('message').invalid && (validateInput('message').dirty || validateInput('message').touched)">
                                        <span>Invalid Recipient</span>
                                    </mdb-error>
                                </div>
                            </div>
                        </div>
                        <!-- DATE END  -->
                        <div class="row">
                            <div class="col-11 mx-auto">
                                <br>
                                <span style="color: #2BA1B9 !important;">Date of Ending</span>
                                <div class="md-form form-sm mt-1rem mb-0rem">
                                    <input formControlName="PollEndDate" required mdbInputDirective mdbValidate type="text" [owlDateTimeTrigger]="dt" [owlDateTime]="dt"
                                        [min]="minDate" class="form-control form-control-sm input-border" placeholder="mm/dd/yy"
                                        (dateTimeChange)="confirmSelectedChangStart($event)">
                                    <owl-date-time #dt></owl-date-time>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-5 col-md-4 col-xl-5 mb-2rem">
                        <!-- FEE -->
                        <div class="row ml-01rem">
                            <div class="md-form form-sm mt-1rem mb-0rem">
                                <div style="margin-top: 0;" class="box-grey pt-1rem pb-1rem d-flex justify-content-center">
                                    <div class="row">
                                        <div class="col-12">
                                            <img class="icono" src="assets/images/img/icon-prx-xpx-green-16h-proximax-sirius-wallet.svg" alt="">
                                            <span>Fee: 0.000000 XPX</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-12 col-xl-12 mb-2rem justify-content-center">
                        <!-- Buttons -->
                        <div class="row mt-1rem mb-0rem ">
                            <div class="col-12 col-sm-6 d-flex justify-content-center justify-content-sm-end">
                                <button mdbBtn type="button" rounded="true" mdbWavesEffect class="f-w-600 background-btn pl-2rem pr-2rem" size="md" (click)="clearForm()">
                                    <span class="fs-1-2em color-white">CLEAR</span>
                                </button>
                            </div>
                            <div class="col-12 col-sm-6 d-flex justify-content-center justify-content-sm-start">
                                <button mdbBtn type="submit" rounded="true" [disabled]="!createPollForm.valid" mdbWavesEffect class="f-w-600 background-btn pl-2rem pr-2rem"
                                    size="md">
                                    <span class="spinner-border spinner-border-sm text-light mr-sm-2" role="status" aria-hidden="true" *ngIf="blockButton"></span>
                                    <span class="fs-1-2em color-white">NEXT</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </mdb-tab>
            <!--Panel 2-->
            <mdb-tab heading="2.Add your options">
                <div class="row mt-1rem">
                    <div class="col-7 col-md-8 col-xl-7 mb-2rem">
                        <!-- TITTLE -->
                        <div class="row">
                            <div class="col-12 d-flex align-items-center box-grey">
                                <div class="col-10">
                                    <span>Title:</span>
                                    <br>
                                    <span class="font-small d-flex">Prueba</span>
                                </div>
                            </div>
                        </div>
                        <!-- PUBLIC ADDRESS -->
                        <div class="row">
                            <div class="col-12  d-flex align-items-center box-grey">
                                <div class="col-10">
                                    <span>Public poll index address:</span>
                                    <br>
                                    <span class="font-small d-flex">{{account}}</span>
                                </div>
                                <div class="col-2 text-right">
                                    <img src="assets/images/img/icon-copy-clipboard-gray-proximax-sirius-wallet.svg" class="cursor-p" alt="Copy" width="20" (click)="copyMessage('Account')"
                                        ngxClipboard [cbContent]="account">
                                </div>
                            </div>
                        </div>
                        <!-- LIST OPTIONS -->
                        <div class="row">
                            <div class="col-12 d-flex align-items-center box-grey">
                                <div class="col-10">
                                    <span style="color: #2BA1B9 !important;">Options:</span>
                                    <ul *ngFor="let item of option">
                                        <i style="cursor: pointer;" class="fa fa-trash fs-1rem text-right" aria-hidden="true" (click)="deleteOptions(item)"></i>
                                        <span class="font-small "> {{item.name}} </span>
                                    </ul>
                                    <br>
                                </div>
                            </div>
                        </div>
                        <!-- OPTIONS -->
                        <div class="row">
                            <div class="col-11 mx-auto">
                                <div class="md-form form-sm mt-1rem mb-0rem">
                                    <input formControlName="option" required mdbInputDirective mdbValidate [validateSuccess]="true" [validateError]="true" type="text"
                                        id="option" class="form-control form-control-sm input-border" placeholder="Options">

                                    <mdb-error *ngIf="validateInput('option', '').invalid && (validateInput('option', '').dirty || validateInput('option', '').touched)">
                                        <span>Input invalid</span>
                                    </mdb-error>
                                </div>
                            </div>
                        </div>
                        <hr>
                        <!-- ADD OPTIONS -->
                        <div class="row">
                            <div class="col-11 col-sm-12 col-md-10 col-lg-8 mx-auto">
                                <div class="row mt-1rem">
                                    <div class="col-12 d-flex justify-content-center">
                                        <button mdbBtn type="button" rounded="true" mdbWavesEffect class="background-btn-inverse pl-2rem pr-2rem" size="md" (click)="addOptions()">
                                            <span class="fs-1-2em color-blue-intermedio fw-700">(+) Add Options</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-5 col-md-4 col-xl-5 mb-2rem">
                        <!-- FEE -->
                        <div class="row ml-01rem">
                            <div class="md-form form-sm mt-1rem mb-0rem">
                                <div style="margin-top: 0;" class="box-grey pt-1rem pb-1rem d-flex justify-content-center">
                                    <div class="row">
                                        <div class="col-12">
                                            <img class="icono" src="assets/images/img/icon-prx-xpx-green-16h-proximax-sirius-wallet.svg" alt="">
                                            <span>Fee: 0.000000 XPX</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-12 col-xl-12 mb-2rem justify-content-center">
                        <!-- Buttons -->
                        <div class="row mt-1rem mb-0rem ">
                            <div class="col-12 col-sm-6 d-flex justify-content-center justify-content-sm-end">
                                <button mdbBtn type="button" rounded="true" mdbWavesEffect class="f-w-600 background-btn pl-2rem pr-2rem" size="md" (click)="clearForm()">
                                    <span class="fs-1-2em color-white">CLEAR</span>
                                </button>
                            </div>
                            <div class="col-12 col-sm-6 d-flex justify-content-center justify-content-sm-start">
                                <button mdbBtn type="submit" rounded="true" [disabled]="!createPollForm.valid" mdbWavesEffect class="f-w-600 background-btn pl-2rem pr-2rem"
                                    size="md">
                                    <span class="spinner-border spinner-border-sm text-light mr-sm-2" role="status" aria-hidden="true" *ngIf="blockButton"></span>
                                    <span class="fs-1-2em color-white">NEXT</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </mdb-tab>

                        <!--Panel ·-->
                        <mdb-tab heading="3.Poll type">
                                <div class="row mt-1rem">
                                    <div class="col-7 col-md-8 col-xl-7 mb-2rem">
                                        <!-- TITTLE -->
                                        <div class="row">
                                            <div class="col-12 d-flex align-items-center box-grey">
                                                <div class="col-10">
                                                    <span>Title:</span>
                                                    <br>
                                                    <span class="font-small d-flex">Prueba</span>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- PUBLIC ADDRESS -->
                                        <div class="row">
                                            <div class="col-12  d-flex align-items-center box-grey">
                                                <div class="col-10">
                                                    <span>Public poll index address:</span>
                                                    <br>
                                                    <span class="font-small d-flex">{{account}}</span>
                                                </div>
                                                <div class="col-2 text-right">
                                                    <img src="assets/images/img/icon-copy-clipboard-gray-proximax-sirius-wallet.svg" class="cursor-p" alt="Copy" width="20" (click)="copyMessage('Account')"
                                                        ngxClipboard [cbContent]="account">
                                                </div>
                                            </div>
                                        </div>

                                    <!-- voteType -->
                                    <div class="row mt-05rem">
                                            <div class="col-11 mx-auto">
                                                <ng-select mdbInputDirective mdbValidate [validateSuccess]="true" [validateError]="true" class="selectWrapper" [items]="voteType"
                                                    formControlName="voteType" bindLabel="label" bindValue="value" placeholder="Increase or decrease" (change)="selectType($event)"></ng-select>
                                                <mdb-error class="mt-1rem ml-1rem" *ngIf="validateInput('voteType').invalid && (validateInput('voteType').dirty || validateInput('voteType').touched)">
                                                    <span>Type</span>
                                                </mdb-error>
                                            </div>
                                        </div>
                                        <!-- LIST ACCOUNTS -->
                                        <div *ngIf='showList'>

                                        <div class="row">
                                            <div class="col-12 d-flex align-items-center box-grey">
                                                <div class="col-10">
                                                    <span style="color: #2BA1B9 !important;">Accounts Address:</span>
                                                    <ul *ngFor="let item of listaBlanca">
                                                        <i style="cursor: pointer;" class="fa fa-trash fs-1rem text-right" aria-hidden="true" (click)="deleteOptions(item)"></i>
                                                        <span class="font-small" style="font-size: 12px;"> {{item.label}} </span>
                                                    </ul>
                                                    <br>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- OPTIONS -->
                                        <div class="row">
                                            <div class="col-11 mx-auto">
                                                <div class="md-form form-sm mt-1rem mb-0rem">
                                                    <input formControlName="address" required mdbInputDirective mdbValidate [validateSuccess]="true" [validateError]="true" type="text"
                                                        id="address" class="form-control form-control-sm input-border" placeholder="Account Address">
                
                                                    <mdb-error *ngIf="validateInput('address', '').invalid && (validateInput('address', '').dirty || validateInput('address', '').touched)">
                                                        <span>Input invalid</span>
                                                    </mdb-error>
                                                </div>
                                            </div>
                                        </div>
                                        <hr>
                                        <!-- ADD OPTIONS -->
                                        <div class="row">
                                            <div class="col-11 col-sm-12 col-md-10 col-lg-8 mx-auto">
                                                <div class="row mt-1rem">
                                                    <div class="col-12 d-flex justify-content-center">
                                                        <button mdbBtn type="button" rounded="true" mdbWavesEffect class="background-btn-inverse pl-2rem pr-2rem" size="md" (click)="addAddress()">
                                                            <span class="fs-1-2em color-blue-intermedio fw-700">(+) Add Account</span>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    </div>
                                    <div class="col-5 col-md-4 col-xl-5 mb-2rem">
                                        <!-- FEE -->
                                        <div class="row ml-01rem">
                                            <div class="md-form form-sm mt-1rem mb-0rem">
                                                <div style="margin-top: 0;" class="box-grey pt-1rem pb-1rem d-flex justify-content-center">
                                                    <div class="row">
                                                        <div class="col-12">
                                                            <img class="icono" src="assets/images/img/icon-prx-xpx-green-16h-proximax-sirius-wallet.svg" alt="">
                                                            <span>Fee: 0.000000 XPX</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-12 col-xl-12 mb-2rem justify-content-center">
                                        <!-- Buttons -->
                                        <div class="row mt-1rem mb-0rem ">
                                            <div class="col-12 col-sm-6 d-flex justify-content-center justify-content-sm-end">
                                                <button mdbBtn type="button" rounded="true" mdbWavesEffect class="f-w-600 background-btn pl-2rem pr-2rem" size="md" (click)="clearForm()">
                                                    <span class="fs-1-2em color-white">CLEAR</span>
                                                </button>
                                            </div>
                                            <div class="col-12 col-sm-6 d-flex justify-content-center justify-content-sm-start">
                                                <button mdbBtn type="submit" rounded="true" [disabled]="!createPollForm.valid" mdbWavesEffect class="f-w-600 background-btn pl-2rem pr-2rem"
                                                    size="md">
                                                    <span class="spinner-border spinner-border-sm text-light mr-sm-2" role="status" aria-hidden="true" *ngIf="blockButton"></span>
                                                    <span class="fs-1-2em color-white">NEXT</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </mdb-tab>
        </mdb-tabset>

        <!-- </div> -->
    </form>


</div>